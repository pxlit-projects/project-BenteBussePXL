<!-- review-post.component.html -->
<div class="container mx-auto p-4">
    <h2 class="text-2xl font-bold mb-4">Posts to Review</h2>
    @for(post of posts; track post.id) {
      <mat-card class="mb-4 post-container">
        <mat-card-header>
          <mat-card-title>{{ post.title }}</mat-card-title>
          <mat-card-subtitle>{{ post.author }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>{{ post.content }}</p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" (click)="approve(post)">Approve</button>
          <button mat-button color="warn" (click)="reject(post)">Reject</button>
        </mat-card-actions>
        <mat-card-footer>
          <p>{{ post.createdAt | date: 'dd/MM/yyyy HH:mm' }}</p>
        </mat-card-footer>
      </mat-card>
    }
  
    <h2 class="text-2xl font-bold mb-4 mt-8">Your Reviewed Posts</h2>
    @for(review of reviewedPosts; track review.id) {
      <mat-card class="mb-4 post-container">
        <mat-card-header>
          <mat-card-title>{{ review.postTitle }}</mat-card-title>
          <mat-card-subtitle>{{ review.reviewer }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>{{ review.comment }}</p>
          @if(review.comment) {
            <div class="mt-4 p-4 bg-gray-100 rounded">
              <p class="font-semibold">Review Comment:</p>
              <p>{{ review.comment }}</p>
            </div>
          }
        </mat-card-content>
        <mat-card-footer>
          <p>{{ review.reviewedAt | date: 'dd/MM/yyyy HH:mm' }}</p>
          <p class="text-sm" [ngClass]="{'text-green-600': review.status, 'text-red-600': !review.status}">
            Status: {{ review.status }}
          </p>
        </mat-card-footer>
      </mat-card>
    }
  </div>